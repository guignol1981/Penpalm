<div class="container">
    <div #postcard class="postcard">
        <form [formGroup]="form" class="postcard--side">
                    <textarea #body class="postcard__body" formControlName="body" name="body" id="body" cols="30"
                              rows="10" placeholder="Write something here..."></textarea>
        </form>
        <div #back id="back" class="postcard--side postcard--back">
            <youtube-player *ngIf="form.get('youtubeLink').value"
                            [videoId]="getYoutubeLinkId()"
                            [height]="'100%'"
                            [width]="'100%'"
            ></youtube-player>
            <div *ngIf="form.get('imageUrl').value">
                <div class="postcard__image-wrap">
                    <img [class]="getImageClass()" [src]="form.get('imageUrl').value"
                         alt="">
                </div>
            </div>
        </div>
    </div>
    <div class="options">
        <div class="options__group">
            <div class="options__group--title">
                General
            </div>
            <div class="options__group--list">
                <a (click)="form.get('spotifyLink').value ? removeOptionValue('spotifyLink') : selectOption('spotifyLink')"
                   class="btn btn--align-left btn--text-md"><i
                        class="fab fa-spotify"></i>
                    &nbsp;
                    {{form.get('spotifyLink').value ? 'Remove link' : 'Spotify song'}}
                </a>
                <a (click)="selectOption('allowShare')" class="btn btn--align-left btn--text-md"><i
                        class="fas fa-share-alt"></i>&nbsp;Allow share</a>
                <a (click)="form.get('template').value !== 'none' ? removeOptionValue('template') : selectOption('template')"
                   class="btn btn--align-left btn--text-md"><i
                        class="far fa-square"></i>
                    &nbsp;
                    {{form.get('template').value  !== 'none' ? 'Remove template' : 'Template'}}
                </a>
                <a class="btn btn--align-left btn--text-md btn--disabled"><i
                        class="fas fa-user"></i>&nbsp;Recipient</a>
            </div>
        </div>
        <div class="options__group">
            <div class="options__group--title">
                Front side
            </div>
            <div class="options__group--list">
                <a class="btn btn--align-left btn--text-md btn--disabled"><i class="fas fa-paint-brush"></i>&nbsp;Text
                    color</a>
            </div>
        </div>
        <div class="options__group">
            <div class="options__group--title">
                Back side
            </div>
            <div class="options__group--list">
                <a class="btn btn--align-left btn--text-md btn--disabled"><i class="fas fa-paint-brush"></i>&nbsp;Background
                    color</a>
                <a class="btn btn--align-left btn--text-md btn--disabled"><i class="fas fa-video"></i>&nbsp;Record a
                    video</a>
                <a (click)="isBackSideOptionAvailable('youtubeLink') ? form.get('youtubeLink').value ? removeOptionValue('youtubeLink') : selectOption('youtubeLink') : ''"
                   [class]="isBackSideOptionAvailable('youtubeLink') ? 'btn btn--align-left btn--text-md' : 'btn btn--align-left btn--text-md btn--disabled'">
                    <i class="fab fa-youtube"></i>
                    &nbsp;
                    {{form.get('youtubeLink').value ? 'Remove youtube link' : 'Youtube video'}}
                </a>
                <a class="btn btn--align-left btn--text-md btn--disabled"><i class="fas fa-camera-retro"></i>&nbsp;Take
                    a picture</a>
                <a (click)="isBackSideOptionAvailable('imageUrl') ? form.get('imageUrl').value ? removeOptionValue('imageUrl') : selectOption('imageUrl') : ''"
                   [class]="isBackSideOptionAvailable('imageUrl') ? 'btn btn--align-left btn--text-md' : 'btn btn--align-left btn--text-md btn--disabled'">
                    <i class="fas fa-link"></i>
                    &nbsp;
                    {{form.get('imageUrl').value ? 'Remove image link' : 'Linked image'}}
                </a>
                <a class="btn btn--align-left btn--text-md btn--disabled"><i class="fas fa-image"></i>&nbsp;Add a
                    picture</a>
                <a class="btn btn--align-left btn--text-md btn--disabled"><i class="fas fa-map-marker"></i>&nbsp;Location</a>
            </div>
        </div>

    </div>
    <div class="form" [formGroup]="form">
        <div *ngIf="selectedOption === 'spotifyLink'" class="form__group">
            <div class="form__group--label">
                <i class="fab fa-spotify"></i>
                <label for="spotifyLink">Spotitfy song</label>
            </div>
            <div class="form__group--input">
                <input formControlName="spotifyLink" class="form__group--input--text" id="spotifyLink" type="text"
                       placeholder="spotify uri">
            </div>
        </div>

        <div *ngIf="selectedOption === 'imageUrl'" class="form__group">
            <div class="form__group--label">
                <i class="fas fa-link"></i>
                <label for="imageUrl">Image link</label>
            </div>
            <div class="form__group--input">
                <input formControlName="imageUrl" class="form__group--input--text" id="imageUrl" type="text"
                       placeholder="image url">
            </div>
        </div>

        <div *ngIf="selectedOption === 'youtubeLink'" class="form__group">
            <div class="form__group--label">
                <i class="fab fa-youtube"></i>
                <label for="imageUrl">Youtube link</label>
            </div>
            <div class="form__group--input">
                <input formControlName="youtubeLink" class="form__group--input--text" id="youtubeLink" type="text"
                       placeholder="youtube link">
            </div>
        </div>

        <div *ngIf="selectedOption === 'allowShare'" class="form__group">
            <div class="form__group--label">
                <i class="fas fa-share-alt"></i>
                <label for="imageUrl">Allow share</label>
            </div>
            <label class="switch">
                <input formControlName="allowShare" type="checkbox" checked>
                <span class="slider round"></span>
            </label>
        </div>

        <div *ngIf="selectedOption === 'template'" class="form__group">
            <div class="form__group--label">
                <i class="far fa-square"></i>
                <label for="template">Template</label>
            </div>
            <div class="form__group--input">
                <div class="form__group--input form__group--input--dropdown">
                    <div class="form__group--input--dropdown__value">
                        {{form.get('template').value}}
                    </div>
                    <div id="language" class="form__group--input--dropdown__option-box">
                        <a (click)="setTemplate(template)" *ngFor="let template of templates"
                           class="form__group--input--dropdown__option-box__item">
                            {{template}}
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="actions">
        <a (click)="flip(postcard)" class="btn">Flip</a>
        <a *ngIf="form.valid" (click)="submit()" [class]="sendWarning ? 'btn btn--primary': 'btn'">
            {{sendWarning? 'Click again to send' : 'Send'}}
        </a>
    </div>
</div>
